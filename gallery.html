<!-- gallery.html -->
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GALLERY - THE OTTOMAN</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome v5 -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Calistoga&family=Viga&display=swap" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/gallery.css">
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg ott-navbar py-2">
        <div class="container ott-container">

        <!-- Mobile : Menu (Kiri) -->
        <button class="navbar-toggler ott-toggler me-2 d-lg-none" type="button"
            data-bs-toggle="collapse" data-bs-target="#ottNav"
            aria-controls="ottNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Mobile : Logo (After Menu) -->
        <a class="navbar-brand ott-brand d-flex align-items-center d-lg-none" href="index.html" aria-label="Home">
            <img src="image/logo/1.png" alt="Logo" class="ott-logo">
        </a>

        <!-- Desktop + Mobile : Icons (Kanan) -->
        <div class="ott-icons d-flex align-items-center gap-4 ms-auto ms-lg-0 order-lg-3">
            <a class="icon-btn" href="cart.html" aria-label="Cart"><i class="fas fa-shopping-cart"></i></a>
            <a class="icon-btn" href="profile.html" aria-label="User"><i class="fas fa-user"></i></a>
            <a class="icon-btn" href="login.html" aria-label="Logout"><i class="fas fa-sign-out-alt"></i></a>
        </div>

        <!-- Menu : Desktop View Normal, Mobile Collapse -->
        <div class="collapse navbar-collapse order-lg-2" id="ottNav">
            <ul class="navbar-nav mx-auto align-items-lg-center gap-lg-5 ott-menu">

            <li class="nav-item"><a class="nav-link ott-navlink" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link ott-navlink" href="about.html">About</a></li>

            <!-- Desktop : Logo Center -->
            <li class="nav-item d-none d-lg-block">
                <a class="nav-link p-0" href="index.html" aria-label="Home">
                <img src="image/logo/1.png" alt="Logo" style="width:auto;height:50px;">
                </a>
            </li>

            <li class="nav-item"><a class="nav-link ott-navlink" href="product.html">Product</a></li>
            <li class="nav-item"><a class="nav-link ott-navlink" href="gallery.html">Gallery</a></li>

            </ul>
        </div>

        </div>
    </nav>

    <main class="container ott-container py-4 gallery-page">

        <h1 class="gallery-title">GALLERY</h1>

        <section class="gallery-bar section-space-first">
            <div class="g-3 align-items-center">
                <div class="gallery-note">
                    Curated moments of Turkish & lifestyle.
                </div>
            </div>
        </section>

        <!-- GRID -->
        <section class="gallery-grid-wrap section-space section-space-bottom">
            <div class="gallery-grid" id="galleryGrid" aria-label="Gallery grid"></div>
        </section>

    </main>

    <!-- Modal View Gambar -->
    <div class="gmodal" id="gModal" aria-hidden="true">
        <div class="gmodal-backdrop" data-close="true"></div>

        <div class="gmodal-dialog" role="dialog" aria-modal="true" aria-label="Image viewer">
            <button class="gmodal-close" type="button" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>

            <button class="gmodal-nav gmodal-prev" type="button" aria-label="Previous">
                <i class="fas fa-chevron-left"></i>
            </button>

            <figure class="gmodal-figure">
                <img class="gmodal-img" id="gModalImg" alt="Gallery image">
                <figcaption class="gmodal-caption" id="gModalCap">1 / 40</figcaption>
            </figure>

            <button class="gmodal-nav gmodal-next" type="button" aria-label="Next">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="ott-footer">
        <div class="footer-top">
        <div class="container ott-container">
            <div class="row g-4 align-items-start">
            <div class="col-lg-4">
                <div class="footer-title">THE OTTOMAN</div>
                <p class="footer-p mt-3">
                Inspired by the rich heritage of Turkey, The Ottoman curates timeless pieces that tell stories of
                culture, craftsmanship, and beauty.
                </p>
                <div class="footer-icons mt-3">
                <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" aria-label="Instagram"><i class="fab fa-tiktok"></i></a>
                <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                </div>
            </div>

            <div class="col-6 col-lg-2">
                <div class="footer-head">Product</div>
                <ul class="footer-list">
                <li><a class="footer-link" href="#">Home & Living</a></li>
                <li><a class="footer-link" href="#">Carpets & Rugs</a></li>
                <li><a class="footer-link" href="#">Mosaic Lamps</a></li>
                <li><a class="footer-link" href="#">Fashion & Textiles</a></li>
                <li><a class="footer-link" href="#">Gourmet</a></li>
                </ul>
            </div>

            <div class="col-6 col-lg-2">
                <div class="footer-head">About</div>
                <ul class="footer-list">
                <li><a class="footer-link" href="#">Our Story</a></li>
                <li><a class="footer-link" href="#">Blog</a></li>
                <li><a class="footer-link" href="#">Gallery</a></li>
                </ul>
            </div>

            <div class="col-6 col-lg-2">
                <div class="footer-head">Customer</div>
                <ul class="footer-list">
                <li><a class="footer-link" href="#">Contact Us</a></li>
                <li><a class="footer-link" href="#">FAQ</a></li>
                <li><a class="footer-link" href="#">Privacy Policy</a></li>
                <li><a class="footer-link" href="#">Terms & Conditions</a></li>
                </ul>
            </div>

            <div class="col-6 col-lg-2">
                <div class="footer-head">Contact</div>
                <div class="footer-contact">
                <div>info@theottoman.com</div>
                <div>BSD - Ruko Pasar Modern Timur 2</div>
                <div>Lotte Mall Jakarta - 2F HomeLiving</div>
                </div>
            </div>
            </div>
        </div>
        </div>

        <div class="footer-bottom-bar">
        <div class="container ott-container">
            Â© 2026 The Ottoman. All Rights Reserved.
        </div>
        </div>
    </footer>

    <!-- Gallery -->
    <script>
        const TOTAL = 40;

        // Dummy Gambar
        const seeds = Array.from({
            length: TOTAL
        }, (_, i) => `ottoman-${i + 1}`);

        // Shuffle
        function shuffle(arr) {
            const a = [...arr];
            for (let i = a.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }

        const gridEl = document.getElementById("galleryGrid");

        // Modal Gambar View
        const modal = document.getElementById("gModal");
        const modalImg = document.getElementById("gModalImg");
        const modalCap = document.getElementById("gModalCap");
        const btnClose = modal.querySelector(".gmodal-close");
        const btnPrev = modal.querySelector(".gmodal-prev");
        const btnNext = modal.querySelector(".gmodal-next");

        let orderedSeeds = [];
        let currentIndex = 0;

        function buildGrid(seedOrder) {
            gridEl.innerHTML = "";

            seedOrder.forEach((seed, idx) => {
                const tall = (idx % 9 === 0) ? "is-tall" : "";
                const wide = (idx % 13 === 0) ? "is-wide" : "";

                const card = document.createElement("button");
                card.type = "button";
                card.className = `gcard ${tall} ${wide}`;
                card.setAttribute("aria-label", `Open image ${idx+1}`);
                card.dataset.index = idx;

                const thumb = `https://picsum.photos/seed/${seed}/700/700`;
                const full = `https://picsum.photos/seed/${seed}/1800/1200`;

                card.dataset.full = full;

                card.innerHTML = `
          <div class="gthumb">
            <img loading="lazy" src="${thumb}" alt="Gallery photo ${idx+1}">
          </div>
          <div class="gshine" aria-hidden="true"></div>
        `;

                card.addEventListener("click", () => openModal(idx));
                gridEl.appendChild(card);

                // Animasi Stagger Soft
                requestAnimationFrame(() => {
                    card.style.setProperty("--d", `${Math.min(idx * 18, 500)}ms`);
                    card.classList.add("is-in");
                });
            });
        }

        function openModal(idx) {
            currentIndex = idx;
            const seed = orderedSeeds[currentIndex];
            const full = `https://picsum.photos/seed/${seed}/1800/1200`;

            modalImg.src = full;
            modalImg.alt = `Gallery image ${currentIndex+1}`;
            modalCap.textContent = `${currentIndex + 1} / ${TOTAL}`;

            modal.classList.add("is-open");
            document.body.classList.add("no-scroll");
            modal.setAttribute("aria-hidden", "false");
        }

        function closeModal() {
            modal.classList.remove("is-open");
            document.body.classList.remove("no-scroll");
            modal.setAttribute("aria-hidden", "true");
            // optional: reset image src biar ringan
            setTimeout(() => {
                modalImg.src = "";
            }, 200);
        }

        function nav(dir) {
            currentIndex = (currentIndex + dir + TOTAL) % TOTAL;
            const seed = orderedSeeds[currentIndex];
            modalImg.classList.remove("img-in");

            void modalImg.offsetWidth;
            modalImg.src = `https://picsum.photos/seed/${seed}/1800/1200`;
            modalCap.textContent = `${currentIndex + 1} / ${TOTAL}`;
            modalImg.classList.add("img-in");
        }

        // Event
        btnClose.addEventListener("click", closeModal);
        modal.addEventListener("click", (e) => {
            if (e.target?.dataset?.close === "true") closeModal();
        });
        btnPrev.addEventListener("click", () => nav(-1));
        btnNext.addEventListener("click", () => nav(1));

        // Tombol Navigass View
        window.addEventListener("keydown", (e) => {
            if (!modal.classList.contains("is-open")) return;
            if (e.key === "Escape") closeModal();
            if (e.key === "ArrowLeft") nav(-1);
            if (e.key === "ArrowRight") nav(1);
        });

        // Random & Refresh At Load Page
        orderedSeeds = shuffle(seeds);
        buildGrid(orderedSeeds);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>